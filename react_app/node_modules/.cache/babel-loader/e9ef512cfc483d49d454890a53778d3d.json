{"ast":null,"code":"var _jsxFileName = \"D:\\\\Neumont\\\\Quarter 8\\\\Service Based Software Architecture\\\\ECommerce\\\\react_app\\\\src\\\\Components\\\\Cart.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CartItem from \"./CartItem\";\nimport Spinner from './spinner';\n\nclass Cart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: {},\n      total: {},\n      isLoaded: false\n    };\n\n    this.removeItem = id => {\n      axios.delete(`http://localhost:3452/item/${id}`).then(res => {\n        console.log(id);\n        this.setState({\n          items: [...this.state.items.filter(item => item.id != id)]\n        });\n      }).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:3252/cart/showCart/${localStorage.getItem('username')}`).then(res => {\n      this.setState({\n        items: res.data.items,\n        total: res.data.total,\n        isLoaded: true\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      items,\n      isLoaded\n    } = this.state;\n\n    if (!isLoaded) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 20\n        }\n      });\n    } else if (items === undefined || items.length === 0) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }, \"no items in cart\");\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mx-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }\n      }, this.state.items.map(item => /*#__PURE__*/React.createElement(CartItem, {\n        key: item.id,\n        item: item,\n        removeItem: this.removeItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 29\n        }\n      }))));\n    }\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["D:/Neumont/Quarter 8/Service Based Software Architecture/ECommerce/react_app/src/Components/Cart.js"],"names":["React","Component","axios","CartItem","Spinner","Cart","state","items","total","isLoaded","removeItem","id","delete","then","res","console","log","setState","filter","item","catch","err","componentDidMount","get","localStorage","getItem","data","render","undefined","length","map"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,IAAN,SAAmBJ,SAAnB,CAA6B;AAAA;AAAA;AAAA,SACzBK,KADyB,GACjB;AACJC,MAAAA,KAAK,EAAE,EADH;AAEJC,MAAAA,KAAK,EAAE,EAFH;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KADiB;;AAAA,SAOzBC,UAPyB,GAOXC,EAAD,IAAQ;AACjBT,MAAAA,KAAK,CAACU,MAAN,CAAc,8BAA6BD,EAAG,EAA9C,EAAiDE,IAAjD,CAAsDC,GAAG,IAAI;AACzDC,QAAAA,OAAO,CAACC,GAAR,CAAYL,EAAZ;AACA,aAAKM,QAAL,CAAc;AAACV,UAAAA,KAAK,EAAE,CAAC,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBW,MAAjB,CAAwBC,IAAI,IAAIA,IAAI,CAACR,EAAL,IAAWA,EAA3C,CAAJ;AAAR,SAAd;AACH,OAHD,EAGGS,KAHH,CAGSC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAHhB;AAIH,KAZwB;AAAA;;AAczBC,EAAAA,iBAAiB,GAAG;AAChBpB,IAAAA,KAAK,CAACqB,GAAN,CAAW,uCAAsCC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAiC,EAAlF,EACKZ,IADL,CACUC,GAAG,IAAI;AACT,WAAKG,QAAL,CAAc;AAACV,QAAAA,KAAK,EAAEO,GAAG,CAACY,IAAJ,CAASnB,KAAjB;AAAwBC,QAAAA,KAAK,EAAEM,GAAG,CAACY,IAAJ,CAASlB,KAAxC;AAA+CC,QAAAA,QAAQ,EAAE;AAAzD,OAAd;AACH,KAHL,EAGOW,KAHP,CAGaC,GAAG,IAAIN,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAHpB;AAIH;;AAEDM,EAAAA,MAAM,GAAG;AACL,UAAM;AAACpB,MAAAA,KAAD;AAAQE,MAAAA;AAAR,QAAoB,KAAKH,KAA/B;;AACA,QAAI,CAACG,QAAL,EAAe;AACX,0BAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH,KAFD,MAEO,IAAIF,KAAK,KAAKqB,SAAV,IAAuBrB,KAAK,CAACsB,MAAN,KAAiB,CAA5C,EAA+C;AAClD,0BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADJ;AAGH,KAJM,MAIA;AACH,0BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKvB,KAAL,CAAWC,KAAX,CAAiBuB,GAAjB,CAAqBX,IAAI,iBACtB,oBAAC,QAAD;AAAU,QAAA,GAAG,EAAEA,IAAI,CAACR,EAApB;AAAwB,QAAA,IAAI,EAAEQ,IAA9B;AAAoC,QAAA,UAAU,EAAE,KAAKT,UAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CADL,CADJ,CADJ;AASH;AACJ;;AAxCwB;;AA2C7B,eAAeL,IAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport CartItem from \"./CartItem\";\r\nimport Spinner from './spinner';\r\n\r\nclass Cart extends Component {\r\n    state = {\r\n        items: {},\r\n        total: {},\r\n        isLoaded: false\r\n    }\r\n\r\n    removeItem = (id) => {\r\n        axios.delete(`http://localhost:3452/item/${id}`).then(res => {\r\n            console.log(id);\r\n            this.setState({items: [...this.state.items.filter(item => item.id != id)]})\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`http://localhost:3252/cart/showCart/${localStorage.getItem('username')}`)\r\n            .then(res => {\r\n                this.setState({items: res.data.items, total: res.data.total, isLoaded: true})\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        const {items, isLoaded} = this.state;\r\n        if (!isLoaded) {\r\n            return <Spinner/>\r\n        } else if (items === undefined || items.length === 0) {\r\n            return (\r\n                <p>no items in cart</p>\r\n            )\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    <div className=\"row mx-1\">\r\n                        {this.state.items.map(item => (\r\n                            <CartItem key={item.id} item={item} removeItem={this.removeItem}/>\r\n                        ))}\r\n                    </div>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}