{"ast":null,"code":"var _jsxFileName = \"D:\\\\Neumont\\\\Quarter 8\\\\Service Based Software Architecture\\\\ECommerce\\\\react_app\\\\src\\\\Components\\\\Orders.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport Order from \"./Order\";\nimport axios from \"axios\";\nimport Spinner from \"./spinner\";\n\nclass Orders extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: {},\n      filteredOrders: {},\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    if (localStorage.getItem('user')) {\n      axios({\n        method: 'get',\n        url: `/zuul/order-service`,\n        headers: {\n          'Authorization': `Basic ${localStorage.getItem('credentials')}`\n        }\n      }).then(res => {\n        this.setState({\n          orders: res.data,\n          filteredOrders: res.data,\n          isLoaded: true\n        });\n      }).catch(err => this.setState({\n        items: undefined,\n        isLoaded: true\n      }));\n    }\n  }\n\n  render() {\n    if (localStorage.getItem('user')) {\n      if (this.state.isLoaded) {\n        return /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"row mx-1\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36,\n            columnNumber: 25\n          }\n        }, this.state.filteredOrders.map(order => /*#__PURE__*/React.createElement(Order, {\n          key: order.id,\n          order: order,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 33\n          }\n        }))));\n      } else {\n        return /*#__PURE__*/React.createElement(Spinner, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 24\n          }\n        });\n      }\n    } else {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n}\n\nexport default Orders;","map":{"version":3,"sources":["D:/Neumont/Quarter 8/Service Based Software Architecture/ECommerce/react_app/src/Components/Orders.js"],"names":["React","Component","Redirect","Order","axios","Spinner","Orders","state","orders","filteredOrders","isLoaded","componentDidMount","localStorage","getItem","method","url","headers","then","res","setState","data","catch","err","items","undefined","render","map","order","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAEA,MAAMC,MAAN,SAAqBL,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BM,KAD2B,GACnB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,cAAc,EAAE,EAFZ;AAGJC,MAAAA,QAAQ,EAAE;AAHN,KADmB;AAAA;;AAO3BC,EAAAA,iBAAiB,GAAG;AAChB,QAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAiC;AAC7BT,MAAAA,KAAK,CAAC;AACFU,QAAAA,MAAM,EAAE,KADN;AAEFC,QAAAA,GAAG,EAAG,qBAFJ;AAGFC,QAAAA,OAAO,EAAE;AACL,2BAAkB,SAAQJ,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoC;AADzD;AAHP,OAAD,CAAL,CAMGI,IANH,CAMQC,GAAG,IAAI;AACX,aAAKC,QAAL,CAAc;AAACX,UAAAA,MAAM,EAAEU,GAAG,CAACE,IAAb;AAAmBX,UAAAA,cAAc,EAAES,GAAG,CAACE,IAAvC;AAA6CV,UAAAA,QAAQ,EAAE;AAAvD,SAAd;AACH,OARD,EAQGW,KARH,CAQSC,GAAG,IAAI,KAAKH,QAAL,CAAc;AAACI,QAAAA,KAAK,EAAEC,SAAR;AAAmBd,QAAAA,QAAQ,EAAE;AAA7B,OAAd,CARhB;AASH;AACJ;;AAEDe,EAAAA,MAAM,GAAG;AAGL,QAAGb,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAiC;AAC7B,UAAG,KAAKN,KAAL,CAAWG,QAAd,EAAwB;AACpB,4BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAEI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK,KAAKH,KAAL,CAAWE,cAAX,CAA0BiB,GAA1B,CAA8BC,KAAK,iBAChC,oBAAC,KAAD;AAAO,UAAA,GAAG,EAAEA,KAAK,CAACC,EAAlB;AAAsB,UAAA,KAAK,EAAED,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADH,CADL,CAFJ,CADJ;AAUH,OAXD,MAWO;AACH,4BAAO,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;AACJ,KAfD,MAeO;AACH,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AACJ;;AA1C0B;;AA6C/B,eAAerB,MAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Order from \"./Order\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"./spinner\";\r\n\r\nclass Orders extends Component {\r\n    state = {\r\n        orders: {},\r\n        filteredOrders: {},\r\n        isLoaded: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        if(localStorage.getItem('user')) {\r\n            axios({\r\n                method: 'get',\r\n                url: `/zuul/order-service`,\r\n                headers: {\r\n                    'Authorization': `Basic ${localStorage.getItem('credentials')}`\r\n                }\r\n            }).then(res => {\r\n                this.setState({orders: res.data, filteredOrders: res.data, isLoaded: true})\r\n            }).catch(err => this.setState({items: undefined, isLoaded: true}));\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n\r\n        if(localStorage.getItem('user')) {\r\n            if(this.state.isLoaded) {\r\n                return (\r\n                    <React.Fragment>\r\n                        \r\n                        <div className=\"row mx-1\">\r\n                            {this.state.filteredOrders.map(order => (\r\n                                <Order key={order.id} order={order}/>\r\n                            ))}\r\n                        </div>\r\n                    </React.Fragment>\r\n                );\r\n            } else {\r\n                return <Spinner/>\r\n            }\r\n        } else {\r\n            return <Redirect to=\"/login\" />\r\n        }\r\n    }\r\n}\r\n\r\nexport default Orders;"]},"metadata":{},"sourceType":"module"}