{"ast":null,"code":"var _jsxFileName = \"D:\\\\Neumont\\\\Quarter 8\\\\Service Based Software Architecture\\\\ECommerce\\\\react_app\\\\src\\\\Components\\\\Orders.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport Order from \"./Order\";\nimport axios from \"axios\";\n\nclass Orders extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: {},\n      isLoaded: false\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: 'get',\n      url: `/zuul/order-service`,\n      authorization: `Basic ${localStorage.getItem('credentials')}`\n    }).then(res => {\n      this.setState({\n        orders: res.data,\n        isLoaded: true\n      });\n      this.state.orders.map(order => {\n        console.log(order);\n      });\n    }).catch(err => this.setState({\n      items: undefined,\n      isLoaded: true\n    }));\n  }\n\n  render() {\n    if (localStorage.getItem('user')) {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mx-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }\n      }, this.state.orders.map(order => /*#__PURE__*/React.createElement(Order, {\n        key: order.id,\n        order: order,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 29\n        }\n      }))));\n    } else {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 20\n        }\n      });\n    }\n  }\n\n}\n\nexport default Orders;","map":{"version":3,"sources":["D:/Neumont/Quarter 8/Service Based Software Architecture/ECommerce/react_app/src/Components/Orders.js"],"names":["React","Component","Redirect","Order","axios","Orders","state","orders","isLoaded","componentDidMount","method","url","authorization","localStorage","getItem","then","res","setState","data","map","order","console","log","catch","err","items","undefined","render","id"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,MAAN,SAAqBJ,SAArB,CAA+B;AAAA;AAAA;AAAA,SAC3BK,KAD2B,GACnB;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,QAAQ,EAAE;AAFN,KADmB;AAAA;;AAM3BC,EAAAA,iBAAiB,GAAG;AACZL,IAAAA,KAAK,CAAC;AACFM,MAAAA,MAAM,EAAE,KADN;AAEFC,MAAAA,GAAG,EAAG,qBAFJ;AAGFC,MAAAA,aAAa,EAAG,SAAQC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoC;AAH1D,KAAD,CAAL,CAIGC,IAJH,CAIQC,GAAG,IAAI;AACX,WAAKC,QAAL,CAAc;AAACV,QAAAA,MAAM,EAAES,GAAG,CAACE,IAAb;AAAmBV,QAAAA,QAAQ,EAAE;AAA7B,OAAd;AACA,WAAKF,KAAL,CAAWC,MAAX,CAAkBY,GAAlB,CAAsBC,KAAK,IAAI;AAC3BC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OAFD;AAGH,KATD,EASGG,KATH,CASSC,GAAG,IAAI,KAAKP,QAAL,CAAc;AAACQ,MAAAA,KAAK,EAAEC,SAAR;AAAmBlB,MAAAA,QAAQ,EAAE;AAA7B,KAAd,CAThB;AAYP;;AAEDmB,EAAAA,MAAM,GAAG;AACL,QAAGd,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAH,EAAiC;AAC7B,0BACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKR,KAAL,CAAWC,MAAX,CAAkBY,GAAlB,CAAsBC,KAAK,iBACxB,oBAAC,KAAD;AAAO,QAAA,GAAG,EAAEA,KAAK,CAACQ,EAAlB;AAAsB,QAAA,KAAK,EAAER,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,CADL,CADJ,CADJ;AASH,KAVD,MAUO;AACH,0BAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;AACJ;;AAnC0B;;AAsC/B,eAAef,MAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Order from \"./Order\";\r\nimport axios from \"axios\";\r\n\r\nclass Orders extends Component {\r\n    state = {\r\n        orders: {},\r\n        isLoaded: false\r\n    }\r\n\r\n    componentDidMount() {\r\n            axios({\r\n                method: 'get',\r\n                url: `/zuul/order-service`,\r\n                authorization: `Basic ${localStorage.getItem('credentials')}`\r\n            }).then(res => {\r\n                this.setState({orders: res.data, isLoaded: true})\r\n                this.state.orders.map(order => {\r\n                    console.log(order);\r\n                })\r\n            }).catch(err => this.setState({items: undefined, isLoaded: true}));\r\n        \r\n\r\n    }\r\n\r\n    render() {\r\n        if(localStorage.getItem('user')) {\r\n            return (\r\n                <React.Fragment>\r\n                    <div className=\"row mx-1\">\r\n                        {this.state.orders.map(order => (\r\n                            <Order key={order.id} order={order}/>\r\n                        ))}\r\n                    </div>\r\n                </React.Fragment>\r\n            );\r\n        } else {\r\n            return <Redirect to=\"/login\" />\r\n        }\r\n    }\r\n}\r\n\r\nexport default Orders;"]},"metadata":{},"sourceType":"module"}