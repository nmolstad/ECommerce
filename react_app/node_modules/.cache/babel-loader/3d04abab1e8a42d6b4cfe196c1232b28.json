{"ast":null,"code":"var _jsxFileName = \"D:\\\\Neumont\\\\Quarter 8\\\\Service Based Software Architecture\\\\ECommerce\\\\react_app\\\\src\\\\Components\\\\Cart.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CartItem from \"./CartItem\";\nimport Spinner from './spinner';\n\nclass Cart extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      items: {},\n      total: {},\n      isLoaded: false\n    };\n\n    this.removeItem = id => {\n      axios.delete(`http://localhost:3252/cart/removeItem/${id}/${localStorage.getItem('username')}`).then(res => {\n        this.setState({\n          items: [...this.state.items.filter(item => item.id !== id)]\n        });\n      }).catch(err => console.log(err));\n    };\n\n    this.changeQuantity = (event, id) => {\n      let quantity = event.target.value;\n      event.target.value = quantity;\n      axios.patch(`http://localhost:3252/cart/changeQuantity/${id}/${quantity}/${localStorage.getItem('username')}`).then(res => {\n        // eslint-disable-next-line array-callback-return\n        this.setState({\n          items: this.state.items.map(item => {\n            if (item.id === id) {\n              item.quantity = quantity;\n            }\n\n            return item;\n          })\n        });\n      }).catch(err => console.log(err));\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:3252/cart/showCart/${localStorage.getItem('username')}`).then(res => {\n      this.setState({\n        items: res.data.items,\n        total: res.data.total,\n        isLoaded: true\n      });\n    }).catch(err => console.log(err));\n  }\n\n  render() {\n    const {\n      items,\n      isLoaded\n    } = this.state;\n\n    if (!isLoaded) {\n      return /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 20\n        }\n      });\n    } else if (items === undefined || items.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mb-4 shadow-sm mx-3 justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }\n      }, \"There are currently no items in your cart.\"));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mx-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-10 row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }\n      }, this.state.items.map(item => /*#__PURE__*/React.createElement(CartItem, {\n        key: item.id,\n        item: item,\n        removeItem: this.removeItem,\n        changeQuantity: this.changeQuantity,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 33\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }\n      }, \"Checkout\"))));\n    }\n  }\n\n}\n\nexport default Cart;","map":{"version":3,"sources":["D:/Neumont/Quarter 8/Service Based Software Architecture/ECommerce/react_app/src/Components/Cart.js"],"names":["React","Component","axios","CartItem","Spinner","Cart","state","items","total","isLoaded","removeItem","id","delete","localStorage","getItem","then","res","setState","filter","item","catch","err","console","log","changeQuantity","event","quantity","target","value","patch","map","componentDidMount","get","data","render","undefined","length"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport CartItem from \"./CartItem\";\r\nimport Spinner from './spinner';\r\n\r\nclass Cart extends Component {\r\n    state = {\r\n        items: {},\r\n        total: {},\r\n        isLoaded: false\r\n    }\r\n\r\n    removeItem = (id) => {\r\n        axios.delete(`http://localhost:3252/cart/removeItem/${id}/${localStorage.getItem('username')}`).then(res => {\r\n            this.setState({items: [...this.state.items.filter(item => item.id !== id)]})\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    changeQuantity = (event, id) => {\r\n        let quantity = event.target.value;\r\n        event.target.value = quantity;\r\n        axios.patch(`http://localhost:3252/cart/changeQuantity/${id}/${quantity}/${localStorage.getItem('username')}`).then(res => {\r\n            // eslint-disable-next-line array-callback-return\r\n            this.setState({items: this.state.items.map(item => {\r\n                    if(item.id === id) {\r\n                        item.quantity = quantity;\r\n                    }\r\n                    return item;\r\n                })})\r\n        }).catch(err => console.log(err));\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios.get(`http://localhost:3252/cart/showCart/${localStorage.getItem('username')}`)\r\n            .then(res => {\r\n                this.setState({items: res.data.items, total: res.data.total, isLoaded: true})\r\n            }).catch(err => console.log(err));\r\n    }\r\n\r\n    render() {\r\n        const {items, isLoaded} = this.state;\r\n        if (!isLoaded) {\r\n            return <Spinner/>\r\n        } else if (items === undefined || items.length === 0) {\r\n            return (\r\n                <div className=\"card mb-4 shadow-sm mx-3 justify-content-center\">\r\n                    <h1>There are currently no items in your cart.</h1>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <React.Fragment>\r\n                    <div className=\"row mx-1\">\r\n                        <div className=\"col-10 row\">\r\n                            {this.state.items.map(item => (\r\n                                <CartItem key={item.id} item={item} removeItem={this.removeItem} changeQuantity={this.changeQuantity}/>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"col-2\">\r\n                            <p>Checkout</p>\r\n                        </div>\r\n                    </div>\r\n                </React.Fragment>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Cart;"]},"metadata":{},"sourceType":"module"}